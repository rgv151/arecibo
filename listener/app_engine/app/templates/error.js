var arecibo={loaded:!1,register:function(a,c,b){return a.addEventListener?(a.addEventListener(c,b,!1),!0):a.attachEvent?a.attachEvent("on"+c,b):!1},addInput:function(a,c,b,d){"undefined"!=typeof d&&(c=c.createElement("input"),c.setAttribute("type","text"),c.setAttribute("name",b),c.setAttribute("value",d),a.appendChild(c))},addTextArea:function(a,c,b,d){"undefined"!=typeof d&&(c=c.createElement("textarea"),c.setAttribute("type","text"),c.setAttribute("name",b),c.innerHTML=d,a.appendChild(c))},createForm:function(){try{var a=
window.frames.error.document}catch(c){return}if(!arecibo.loaded){arecibo.loaded=!0;var b=a.createElement("form");b.setAttribute("action",("https:"==document.location.protocol?"https://":"http://")+"{{ domain }}/v/1/");b.setAttribute("method","post");var d=new Date;arecibo.addInput(b,a,"account",arecibo.account);arecibo.addInput(b,a,"server",arecibo.server);arecibo.addTextArea(b,a,"msg",arecibo.msg);arecibo.addInput(b,a,"status",arecibo.status);arecibo.addInput(b,a,"priority",arecibo.priority);arecibo.addInput(b,
a,"uid",arecibo.uid);arecibo.addInput(b,a,"username",arecibo.username);arecibo.addInput(b,a,"timestamp",d.toUTCString());"undefined"==typeof arecibo.url?arecibo.addInput(b,a,"url",window.location):arecibo.addInput(b,a,"url",arecibo.url);arecibo.addInput(b,a,"type",arecibo.type);arecibo.addTextArea(b,a,"traceback",arecibo.traceback);arecibo.addTextArea(b,a,"request",arecibo.request);a.body.appendChild(b);b.submit()}},postLoad:function(){var a=document.createElement("iframe");a.name="error";a.id="error";
a.style.visibility="hidden";arecibo.register(a,"load",arecibo.createForm);document.body.appendChild(a)},ajaxPostLoad:function(){data={account:arecibo.account,server:arecibo.server,msg:arecibo.msg,status:arecibo.status,priority:arecibo.priority,uid:arecibo.uid,username:arecibo.username,timestamp:(new Date).toUTCString(),type:arecibo.type,traceback:arecibo.traceback,request:arecibo.request};data.url="undefined"==typeof arecibo.url?window.location:arecibo.url;var a="",c;for(c in data)a+=escape(c)+"="+
escape(data[c])+"&";a.substring(0,a.length-1);var b;try{b=new XMLHttpRequest}catch(d){try{b=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{b=new ActiveXObject("Microsoft.XMLHTTP")}catch(f){return alert("Your browser does not support Ajax"),!1}}}b.open("POST",("https:"==document.location.protocol?"https://":"http://")+"{{ domain }}/v/1/",!0);b.setRequestHeader("Content-Type","application/x-www-form-urlencoded");b.send(a)},run:function(){arecibo.register(window,"load",arecibo.postLoad)},recordException:function(a){arecibo.msg=
a.toString();arecibo.type=a.name;var c;a.line?c=a.line:a.lineNumber&&(c=a.lineNumber);arecibo.url=a.sourceURL?a.sourceURL:a.fileName?a.fileName:window.location;c&&(arecibo.msg=arecibo.url+" line "+c+": "+arecibo.msg);a.stack&&(arecibo.traceback=a.stack);arecibo.postLoad()},registerGlobalHandler:function(){window.onerror=function(a,c,b,d){arecibo.msg=c+" at line "+b+": "+a;arecibo.traceback=d;arecibo.url=c;arecibo.postLoad()}}};